# Output Specification

This document describes the files generated by the Foundlio generator and where they should be placed in the template.

## Generated Files

The generator produces these JSON files:

| File | Description | Template Location |
|------|-------------|-------------------|
| `business.json` | Core business info, hours, licenses, features | `/data/business.json` |
| `services.json` | Services with descriptions, features, SEO | `/data/services.json` |
| `areas.json` | Service areas with local content | `/data/areas.json` |
| `testimonials.json` | Customer reviews and review summary | `/data/testimonials.json` |
| `faqs.json` | Categorized FAQs | `/data/faqs.json` |
| `posts.json` | Blog posts with full content | `/data/posts.json` |
| `themes.json` | Custom theme (optional) | `/data/themes.json` |

## Deployment

### Copy to Template

After generation, copy all files to the template's `/data` directory:

```bash
# From generator output directory
cp *.json /path/to/template/data/

# Or specify during generation
node scripts/generate.js --input input.json --output /path/to/template/data
```

### Verify Configuration

Run the validator to check files:

```bash
node scripts/validate.js /path/to/template/data
```

### Build and Deploy

```bash
cd /path/to/template
npm run build
npm run start
# Or deploy to Vercel/Netlify
```

## File Details

### business.json

**Purpose**: Core business configuration that drives the entire site.

**Key Fields**:
- `name` - Business display name
- `phone` / `phoneRaw` - Contact numbers
- `vertical` - Industry type (hvac/plumbing/electrical)
- `address` - Full address with components
- `hours` - Business hours
- `rating` / `reviewCount` - Social proof
- `theme` - Theme configuration
- `features` - Feature toggles

**Template Usage**:
- Header/Footer display
- Contact pages
- SEO metadata
- Schema.org markup
- Variable replacement throughout site

### services.json

**Purpose**: Service listings for service pages and navigation.

**Key Fields**:
- `services[]` - Array of service definitions
  - `slug` - URL path
  - `name` - Display name
  - `shortDescription` - Card/preview text
  - `longDescription` - Full page content
  - `features[]` - Service features
  - `benefits[]` - Customer benefits
  - `icon` - Lucide icon name
  - `emergency` - Is 24/7 service
  - `metaTitle` / `metaDescription` - SEO
- `categories[]` - Service categories

**Template Usage**:
- `/services` index page
- `/services/[slug]` dynamic pages
- Service cards on homepage
- Navigation menus

### areas.json

**Purpose**: Service area pages for local SEO.

**Key Fields**:
- `areas[]` - Array of service areas
  - `slug` - URL path
  - `name` - City/area name
  - `description` - Area overview
  - `neighborhoods[]` - Local neighborhoods
  - `landmarks[]` - Notable landmarks
  - `localChallenges` - Area-specific content
  - `coordinates` - Map center point
  - `serviceHighlights[]` - Local selling points
- `serviceRadius` - Coverage description
- `primaryServiceArea` - Main area name

**Template Usage**:
- `/areas` index page
- `/areas/[slug]` dynamic pages
- Service area map
- Footer location info

### testimonials.json

**Purpose**: Customer reviews for social proof.

**Key Fields**:
- `testimonials[]` - Array of reviews
  - `name` - Customer name
  - `location` - City, State
  - `rating` - Star rating (1-5)
  - `text` - Review content
  - `service` - Service received
  - `date` - Review date
- `summary` - Aggregate statistics
  - `averageRating` - Overall rating
  - `totalReviews` - Total count
  - `platforms[]` - By-platform breakdown

**Template Usage**:
- Testimonials slider
- Review cards
- Trust signals
- Schema.org reviews

### faqs.json

**Purpose**: Frequently asked questions by category.

**Key Fields**:
- `categories[]` - Array of FAQ categories
  - `name` - Category display name
  - `slug` - Category identifier
  - `faqs[]` - Questions in category
    - `question` - The question
    - `answer` - The answer

**Template Usage**:
- FAQ accordion component
- FAQ page
- Service page FAQs
- Schema.org FAQ markup

### posts.json

**Purpose**: Blog posts for content marketing and SEO.

**Key Fields**:
- `posts[]` - Array of blog posts
  - `slug` - URL path
  - `title` - Post title
  - `excerpt` - Preview text
  - `content` - Full markdown content
  - `date` - Publication date
  - `category` - Post category
  - `readTime` - Estimated read time
  - `metaTitle` / `metaDescription` - SEO
- `categories[]` - Available categories

**Template Usage**:
- `/blog` index page
- `/blog/[slug]` dynamic pages
- Related posts
- Category filtering

### themes.json (Optional)

**Purpose**: Custom theme definitions.

**Key Fields**:
- `themes[]` - Array of custom themes
  - `id` - Unique identifier
  - `name` - Display name
  - `colors` - HSL color definitions

**Template Usage**:
- Theme picker
- CSS custom properties
- Brand customization

## Variable Replacement

Generated content may include template variables:

```
{{businessName}} → "Desert Aire Comfort"
{{phone}} → "(602) 555-2665"
{{city}} → "Phoenix"
{{rating}} → "4.9"
{{yearsInBusiness}} → "15"
```

The template's `copyEngine.ts` replaces these at runtime using data from `business.json`.

## Validation Rules

### Required Files
All 6 core files must be present:
- business.json
- services.json
- areas.json
- testimonials.json
- faqs.json
- posts.json

### Consistency Requirements
- Service names in testimonials must match services.json
- Area locations in testimonials should match areas.json
- Category slugs in posts must match defined categories
- All slugs must be URL-safe (lowercase, hyphens, no spaces)

### SEO Requirements
- Meta descriptions: max 160 characters
- Meta titles: max 60 characters
- All pages need unique meta content

### Content Minimums
- Services: 5-10
- Areas: 3-15
- Testimonials: 5-10
- FAQ categories: 3-8
- Blog posts: 3-10

## Integration with CI/CD

For automated deployments:

```bash
# Generate configuration
node scripts/generate.js -i $INPUT_JSON -o ./data

# Validate
node scripts/validate.js ./data

# Build
npm run build

# Deploy (example: Vercel)
vercel deploy --prod
```

## Troubleshooting

### Common Issues

**"Missing required field"**
- Check that AI generated all required fields
- Verify input had necessary information

**"Invalid JSON"**
- AI may have generated malformed JSON
- Try regenerating or manually fix syntax

**"Duplicate slugs"**
- Each service/area/post needs unique slug
- Check for duplicates and rename

**"Invalid coordinates"**
- Coordinates must be valid lat/lng
- Lat: -90 to 90, Lng: -180 to 180
